console.clear();const api="http://www.ghibli.jp/gallery/",works=[{name:"思い出のマーニー",nickname:"marnie",publicTime:2014,numsOfImage:50},{name:"かぐや姫の物語",nickname:"kaguyahime",publicTime:2013,numsOfImage:50},{name:"風立ちぬ",nickname:"kazetachinu",publicTime:2013,numsOfImage:50},{name:"コクリコ坂から",nickname:"kokurikozaka",publicTime:2011,numsOfImage:50},{name:"借りぐらしのアリエッティ",nickname:"karigurashi",publicTime:2010,numsOfImage:50},{name:"崖の上のポニョ",nickname:"ponyo",publicTime:2008,numsOfImage:50},{name:"ゲド戦記",nickname:"ged",publicTime:2006,numsOfImage:50},{name:"ハウルの動く城",nickname:"howl",publicTime:2004,numsOfImage:50},{name:"猫の恩返し",nickname:"baron",publicTime:2002,numsOfImage:50},{name:"ギブリーズ episode2",nickname:"ghiblies",publicTime:2002,numsOfImage:50},{name:"千と千尋の神隠し",nickname:"chihiro",publicTime:2001,numsOfImage:50},{name:"ホーホケキョ となりの山田くん",nickname:"yamada",publicTime:1999,numsOfImage:50},{name:"もののけ姫",nickname:"mononoke",publicTime:1997,numsOfImage:50},{name:"耳をすませば",nickname:"mimi",publicTime:1995,numsOfImage:50}];class GhibliGallery{constructor(){this.bodyEl=document.body,this.events()}events(){this.updateCatalog(),this.updateGallerySection(),this.bodyEl.onclick=e=>{if("button"===e.target.className){const sectionEl=document.querySelector("section");sectionEl.parentNode.removeChild(sectionEl),this.updateGallerySection(e.target.id),this.moveToGallery()}}}updateCatalog(){const catalog=document.createElement("div");catalog.classList.add("catalog"),this.bodyEl.appendChild(catalog);for(let i=0;i<works.length;i++){const button=document.createElement("div");button.classList.add("button"),button.id=i,button.textContent=works[i].name,catalog.appendChild(button)}}updateGallerySection(id=0){const section=document.createElement("section");this.bodyEl.appendChild(section);const title=document.createElement("H1");title.textContent=`${works[id].name} (${works[id].publicTime})`,section.appendChild(title);for(let i=0;i<works[id].numsOfImage;i++){let imgUrl=api+works[id].nickname;imgUrl+=i<9?`00${i+1}.jpg`:`0${i+1}.jpg`;const img=document.createElement("img");img.src=imgUrl,section.appendChild(img)}}moveToGallery(){const GalleryTop=document.querySelector("section").getBoundingClientRect().top;window.scrollTo(0,GalleryTop)}}new GhibliGallery;